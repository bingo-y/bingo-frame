apply plugin: 'com.android.library'
apply from : '../kotlin.gradle'

android {
    def globalConfig = rootProject.ext.android
    compileSdkVersion globalConfig["compileSdkVersion"]
    buildToolsVersion globalConfig["buildToolsVersion"]

    defaultConfig {
        minSdkVersion globalConfig["minSdkVersion"]
        targetSdkVersion globalConfig["targetSdkVersion"]
        versionCode globalConfig["versionCode"]
        versionName globalConfig["versionName"]

        testInstrumentationRunner globalConfig["testInstrumentationRunner"]

    }
    buildTypes {
        release {
            minifyEnabled false
            shrinkResources false
        }
    }

    compileOptions {
        targetCompatibility globalConfig["javaVersion"]
        sourceCompatibility globalConfig["javaVersion"]
    }
}

dependencies {

    def dependencies = rootProject.ext.dependencies
    def testDependencies = rootProject.ext.testDependencies

    implementation fileTree(dir: 'libs', include: ['*.jar'])
    androidTestImplementation(testDependencies.espresso, {
        exclude group: 'com.android.support', module: 'support-annotations'
    })
    testImplementation testDependencies.junit

    // android
    api dependencies.appcompat_v7
    api dependencies.design
    api dependencies.recyclerview
    api dependencies.card_view

    // arch
    api dependencies.lifecycle_java8
    api dependencies.room_runtime
    api dependencies.room_rxjava2

    // multidex
    api dependencies.multidex
    // timber log
    api dependencies.timber
    // glide
    api dependencies.glide
    api dependencies.okhttp3_integration
    // google
    api dependencies.gson
    // dagger2
    api dependencies.dagger2
    kapt dependencies.dagger2_compiler
    api dependencies.dagger2_android
    api dependencies.dagger2_android_support
    kapt dependencies.dagger2_android_processor

    // alibaba
    api dependencies.fastjson
    // arouter
    api dependencies.arouter_api
    kapt dependencies.arouter_compiler
    // rx java
    api dependencies.rxjava
    api dependencies.rxandroid
    // rx cache
    api dependencies.rxcache
    api dependencies.rxcache_jolyglot_gson

    // rx lifecycle
    api dependencies.rxlifecycle
    api dependencies.rxlifecycle_android
    api dependencies.rxlifecycle_components

    // rx preferences
    api dependencies.rx_preferences

    // square
    api dependencies.okhttp
    api dependencies.okio
    api dependencies.retrofit
    api dependencies.retrofit2_rxjava2_adapter
    api dependencies.converter_gson
    api dependencies.http_log
    // butterknife
    api dependencies.butterknife
    kapt dependencies.butterknife_compiler
    // greenrobot
    api dependencies.eventbus
    // sqlcipher
    api dependencies.sqlcipher
    // rx permissions
    api dependencies.rx_permissions

    // cc
    api dependencies.cc

    api "org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version"
}
